# Readeck 関連アプリ

このリポジトリは Readeck 関連の Flutter アプリケーション群を管理しています。

## ディレクトリ構成

- `readeck_client/` : Dart 製の API クライアントライブラリ
- `readeck_mobile/` : Flutter 製のモバイルアプリ（iOS/Android 対応）

---

# 詳細仕様

## 機能一覧

- ブックマークの一覧表示・詳細表示・追加・編集・削除
- ラベル・コレクションによる分類
- 高度検索（キーワード・ラベル・コレクション・日付などで絞り込み）
- 設定画面（テーマ切替、アカウント、データ管理など）
- 共有機能（他アプリからのテキスト/URL 受信、共有）
- シェアインテント時はローディングアニメーションを即表示し、保存完了後は自動でアプリ終了
- オフライン対応（ローカルキャッシュ）
- iOS/Android 両対応
- 画面遷移は GoRouter で統一、戻る操作やスワイプも安全

## 技術スタック

- Flutter 3.x
- Riverpod（状態管理）
- GoRouter（画面遷移）
- Freezed/JsonSerializable（モデル）
- SQLite/SharedPreferences（ローカル保存）
- REST API 連携（readeck_client）
- loading_animation_widget（ローディングアニメーション）
- receive_sharing_intent（シェアインテント受信）

## 画面構成

- ホーム
- ブックマーク一覧・詳細
- ラベル一覧
- コレクション一覧
- 高度検索
- 設定
- ログイン

## 開発・ビルド方法

1. Flutter のセットアップ ([公式サイト](https://flutter.dev/))
2. 依存パッケージのインストール

```bash
cd readeck_mobile
flutter pub get
```

3. 実行

```bash
flutter run
```

### シェアインテントのテスト方法

1. Android 端末で他アプリ（例: Chrome, Twitter 等）から URL やテキストを「共有」→「Readeck」を選択
2. ローディングアニメーションが即表示され、保存完了後は自動でアプリが閉じます
3. 保存失敗時はエラーが表示されます

---

## シェアインテント時の挙動

- 他アプリから「共有」で本アプリを起動した場合、即座にローディングアニメーション（四つのドット）を表示
- ローディング画面が表示された後、ブックマーク保存処理を開始
- 保存完了後は自動的にアプリが終了し、元のアプリに戻る
- 保存失敗時はエラー表示

## UI/UX 改善点

- Android スプラッシュ画面は白背景で、黒画面を排除
- ローディングアニメーションは保存処理前に必ず表示され、UI フリーズを極力抑制
- 保存処理は UI スレッドをブロックしないよう分割・遅延処理を実装
- ログアウトやエラー時も即時フィードバック

## ライセンス

MIT License

---

ご質問・要望は Issue または PR でお願いします。
